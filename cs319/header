class WindowManager {
public:

	GameManager* GM;
	NetworkManager* NM;
	double zoom;
	int screenWidth;
	int screenHeight;
	int leftMargin, rightMargin, topMargin, bottomLowerMargin, bottomUpperMargin;
	sf::Image mapImg, hoverImg, roundedSquare, lineImg, menuBackground, menuBut;
	sf::Texture mapTex;
	sf::View mainView;
	sf::Sprite mapSprite;
	sf::RenderWindow window;
	sf::Mouse mouse;
	sf::RectangleShape lowerPanel;
	sf::Text provinceNameTxt, infoText;
	sf::Font font;
	MiniMap miniMap;
	LineBetweenProvinces* lineForProvinces;
	vector<Button*> buttons;
	vector<MyImage*> images;
	vector<MyImage*> menuButton;
	vector<MyImage*> castles;
	vector<string> wheelStr;
	vector<ArmyBage*> listOfArmyBage;
	int phase;
	int page = 0;
	int soldierAmount = 1;
	bool turnWheel = false;
	float time; //time to calculate elapsed time
	Clock clock;

	const int MENU_SCREEN = 0;
	const int GAME_SCREEN = 1;
	const int COMPUTER_GAME_SCREEN = 2;
	
	const int NEXT_PHASE_BUTTON = 0;
	const int ATTACK_BUTTON = 1;
	const int DEC_BUTTON = 2;
	const int INC_BUTTON = 3;
	const int NUMBER_TEXT = 4;

	const int INITIAL_PHASE = 0;
	const int PLACEMENT_PHASE = 1;
	const int ATTACKING_PHASE = 2;
	const int POST_ATTACK = 3;
	const int FORTIFY_PHASE = 4;
	const int END_TURN = 5;

	const int host = 5;
	const int c1 = 6;
	const int c2 = 7;
	const int start = 8;
	const int TURN_WHEEL_BUTTON = 9;

	int playerCount = 0;

	int isProvinceClicked = 0;
	Province* first;
	Province* second;
	Province* currentProvince;

	string userName;
	int userTurn;
	int turn = 0;

	bool _randomPlacement = true;
	bool castle = false;
	float rotateAmount = 22.5;


	int counter = 0;

	WindowManager();
	~WindowManager();
	void createWindow();
	void menuScreen(RenderWindow& window, Event& e);
	void multGameLan(RenderWindow& window, Event& event);
	void multGameComp(RenderWindow& window, Event& event);
	string getProvinceByColor(int color);
	int getPixelColor(int x, int y);
	string getProvinceName(sf::RenderWindow& window, sf::Mouse& m);
	void provinceClicked(int id);
	void checkClickEvents(sf::Event& e);
	void menuEvents(sf::Event& e , int i);
	void buttonClicked(int id);
	void imageClicked(int id);
	void changeButton(int id);
	void dragObject(sf::RenderWindow& window, sf::Event& event, int id);
	void displayProvinceInfo(Province* province);
	void drawAllArmies(RenderWindow& window, Event& e);
};
